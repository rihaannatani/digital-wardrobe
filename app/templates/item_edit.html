{% extends "base.html" %}
{% block content %}

  <div class="card">
    <div class="row" style="justify-content:space-between; align-items:center;">
      <h2 style="margin:0;">Edit Item</h2>
      <a href="/items">Back</a>
    </div>

    {% if item["image_path"] %}
      <div style="margin-top:12px;">
        <div class="muted">Current photo</div>
        <img src="{{ item['image_path'] }}" style="max-width:220px; border-radius:10px; margin-top:8px;" />
      </div>
    {% endif %}

    <form method="post" action="/items/{{ item['id'] }}/edit" enctype="multipart/form-data">
      <label>Replace photo (optional)</label>
      <input type="file" name="image" accept="image/*" />

      <label>Name</label>
      <input name="name" required value="{{ item['name'] }}" />

      <label>Category</label>
      <select name="category" required>
        {% for c in ["top","bottom","shoes","outerwear","accessory"] %}
          <option value="{{ c }}" {% if item["category"] == c %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
      </select>

      <label>Primary color (text)</label>
      <input name="color_primary" required value="{{ item['color_primary'] }}" />

      <label>Color hex (optional)</label>
      <input name="color_hex" value="{{ item['color_hex'] or '' }}" placeholder="#DF3D1A" />

      <label>Secondary color (optional)</label>
      <input name="color_secondary" value="{{ item['color_secondary'] or '' }}" />

      <label>Warmth (1-5)</label>
      <input name="warmth" type="number" min="1" max="5" value="{{ item['warmth'] }}" required />

      <label>Formality (1-5)</label>
      <input name="formality" type="number" min="1" max="5" value="{{ item['formality'] }}" required />

      <label>Notes (optional)</label>
      <textarea name="notes" rows="3">{{ item['notes'] or '' }}</textarea>

      <div style="margin-top:14px;">
        <button type="submit">Save changes</button>
        <a href="/items" style="margin-left:10px;">Cancel</a>
      </div>
    </form>

  </div>

{% endblock %}
